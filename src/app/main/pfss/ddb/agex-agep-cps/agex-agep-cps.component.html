<div class="page-layout simple fullwidth" fxLayout="column">
    <div class="header primary p-4 h-24" fxLayout="row" fxLayoutAlign="start center">
        <div fxLayout="column" fxLayoutAlign="center start">
            <div fxLayout="row" fxLayoutAlign="start center"
                style="margin-top: 0px !important; padding-top: 0px !important;">
                <mat-icon class="s-18" style="color: #0eaf3b;">home</mat-icon>
                <mat-icon class="s-18" style="color: #0eaf3b;">chevron_right</mat-icon>
                <span style="color: #0eaf3b;">Données de base</span>
                <mat-icon class="s-18" style="color: #0eaf3b;">chevron_right</mat-icon>
                <span style="color: #0eaf3b;">Acteurs</span>
            </div>
        </div>
    </div>
    <mat-tab-group>
        <!-- debut LISTE DES AGEX -->
        <mat-tab label="AGENCE D'EXECUTION">
            <div class="content p-2">
                <div class="mat-card mat-elevation-z4  m-4">
                    <div class="package-type primary h-44" fxLayout="row" fxLayoutAlign="space-between center">
                        <span class="p-12 coleur_vert">Actions
                            <button mat-button mat-icon-button color="fuse-navy" aria-label="Ajouter"
                                (click)="AjouterAgenceExecution()"
                                *ngIf="!this.new_item_agence_execution && !this.editing_agence_execution[this.index_selected_agence_execution]">
                                <mat-icon matTooltip="Ajouter" class="coleur_vert">add_circle_outline</mat-icon>
                            </button>
                            <button mat-button mat-icon-button color="fuse-navy" aria-label="Modifier"
                                matTooltip="Modifier" (click)="ModifierAgenceExecution()"
                                *ngIf="item_selected_agence_execution.length > 0 && !this.editing_agence_execution[this.index_selected_agence_execution]">
                                <mat-icon matTooltip="Modifier" class="coleur_vert">edit</mat-icon>
                            </button>
                            <button mat-button mat-icon-button color="fuse-navy" aria-label="Supprimer"
                                matTooltip="Supprimer" (click)="supprimerAgenceExecution()"
                                *ngIf="item_selected_agence_execution.length > 0 && !this.editing_agence_execution[this.index_selected_agence_execution]">
                                <mat-icon matTooltip="Supprimer" class="coleur_vert">delete</mat-icon>
                            </button>


                            <button mat-button mat-icon-button color="fuse-navy" aria-label="Enregistrer"
                                *ngIf="this.editing_agence_execution[this.index_selected_agence_execution]"
                                (click)="save_in_base_agence_execution(0)">
                                <mat-icon matTooltip="Enregistrer" class="coleur_vert">save</mat-icon>
                            </button>

                            <button mat-button mat-icon-button color="fuse-navy" aria-label="Annuler"
                                (click)="annulerAgenceExecution()"
                                *ngIf="item_selected_agence_execution.length > 0 && this.editing_agence_execution[this.index_selected_agence_execution]">
                                <mat-icon matTooltip="Annuler" class="coleur_vert">cancel</mat-icon>
                            </button>
                            <button mat-stroked-button style="color: #0eaf3b;">
                                <mat-icon>get_app</mat-icon>
                                EXPORTER EN EXCEL
                            </button>
                        </span>
                        <span class="p-12 coleur_vert">LISTE DES AGEX</span>
                        <span class="p-12"><input type="text"
                                style="padding:8px;margin:15px auto;width:100%;color:#353A48;"
                                placeholder="Rechercher..." [(ngModel)]="search_agence_execution" /></span>

                    </div>
                    <div>
                        <ngx-datatable class="material" [rows]="rows_agence_execution | filter: search_agence_execution"
                            [columnMode]="'force'" [headerHeight]="48" [footerHeight]="56" [rowHeight]="'auto'"
                            [scrollbarH]="true" [reorderable]="" [selectionType]="'checkbox'" [limit]="10"
                            [selected]="item_selected_agence_execution" [selectionType]="'single'"
                            (select)="onSelectAgenceExecution($event)">
                            <ngx-datatable-column name="Identifiant AGEX" prop="identifiant_agex">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                    let-row="row">
                                    <span *ngIf="!editing_agence_execution[rowIndex]">{{ value }}</span>
                                    <input *ngIf="editing_agence_execution[rowIndex]" type="text"
                                        (change)="updateValueAgenceExecution($event, 'identifiant_agex', rowIndex)"
                                        [value]="value" />
                                </ng-template>
                            </ngx-datatable-column>
                            <ngx-datatable-column name="Dénomination AGEX" prop="Nom">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                    let-row="row">
                                    <span *ngIf="!editing_agence_execution[rowIndex]">{{ value }}</span>
                                    <input *ngIf="editing_agence_execution[rowIndex]" type="text"
                                        (change)="updateValueAgenceExecution($event, 'Nom', rowIndex)"
                                        [value]="value" />
                                </ng-template>
                            </ngx-datatable-column>
                            <ngx-datatable-column name="Intervenant AGEX" prop="intervenant_agex">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                    let-row="row">
                                    <!-- <select (selectionChange)="updateValueAgenceExecution($event, 'intervenant_agex', rowIndex)" [(value)]="value" style="background-color: white;" >
                                                    
                                        <mat-option [value]="Consultant">Consultant</mat-option>
                                        <mat-option [value]="ONG">ONG</mat-option>
                                    </select> -->
                                    <span *ngIf="!editing_agence_execution[rowIndex]">{{ value }}</span>
                                    <input *ngIf="editing_agence_execution[rowIndex]" type="text"
                                        (change)="updateValueAgenceExecution($event, 'intervenant_agex', rowIndex)"
                                        [value]="value" />
                                </ng-template>
                            </ngx-datatable-column>
                            <ngx-datatable-column name="Nom de contact AGEX" prop="nom_contact_agex">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                    let-row="row">
                                    <span *ngIf="!editing_agence_execution[rowIndex]">{{ value }}</span>
                                    <input *ngIf="editing_agence_execution[rowIndex]" type="text" (change)="updateValueAgenceExecution($event, 'nom_contact_agex', rowIndex)" [value]="value" />
                                </ng-template>
                            </ngx-datatable-column>
                            <ngx-datatable-column name="Titre du contact" prop="titre_contact">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                    let-row="row">
                                    <span *ngIf="!editing_agence_execution[rowIndex]">{{ value }}</span>
                                    <input *ngIf="editing_agence_execution[rowIndex]" type="text"
                                        (change)="updateValueAgenceExecution($event, 'titre_contact', rowIndex)"
                                        [value]="value" />
                                </ng-template>
                            </ngx-datatable-column>
                            <ngx-datatable-column name="Numéro Tel" prop="numero_phone_contact">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                    let-row="row">
                                    <span *ngIf="!editing_agence_execution[rowIndex]">{{ value }}</span>
                                    <input *ngIf="editing_agence_execution[rowIndex]" type="text"
                                        (change)="updateValueAgenceExecution($event, 'numero_phone_contact', rowIndex)"
                                        [value]="value" />
                                </ng-template>
                            </ngx-datatable-column>
                            <ngx-datatable-column name="Adresse AGEX" prop="adresse_agex">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                    let-row="row">
                                    <span *ngIf="!editing_agence_execution[rowIndex]">{{ value }}</span>
                                    <input *ngIf="editing_agence_execution[rowIndex]" type="text" (change)="updateValueAgenceExecution($event, 'adresse_agex', rowIndex)" [value]="value" />
                                </ng-template>
                            </ngx-datatable-column>
                        </ngx-datatable>
                    </div>
                </div>
            </div>
        </mat-tab>
        <!-- fin LISTE DES AGEX -->

        <!-- debut AGEP -->
        <mat-tab label="AGENCE DE PAIEMENT">
            <div class="content p-2">
                <div class="mat-card mat-elevation-z4  m-4">
                    <div class="package-type primary h-44" fxLayout="row" fxLayoutAlign="space-between center">
                        <span class="p-12 coleur_vert">Actions
                            <button mat-button mat-icon-button color="fuse-navy" aria-label="Ajouter"
                                (click)="AjouterAgencePaiement()"
                                *ngIf="!this.new_item_agence_paiement && !this.editing_agence_paiement[this.index_selected_agence_paiement]">
                                <mat-icon matTooltip="Ajouter" class="coleur_vert">add_circle_outline</mat-icon>
                            </button>
                            <button mat-button mat-icon-button color="fuse-navy" aria-label="Modifier"
                                matTooltip="Modifier" (click)="ModifierAgencePaiement()"
                                *ngIf="item_selected_agence_paiement.length > 0 && !this.editing_agence_paiement[this.index_selected_agence_paiement]">
                                <mat-icon matTooltip="Modifier" class="coleur_vert">edit</mat-icon>
                            </button>
                            <button mat-button mat-icon-button color="fuse-navy" aria-label="Supprimer"
                                matTooltip="Supprimer" (click)="supprimerAgencePaiement()"
                                *ngIf="item_selected_agence_paiement.length > 0 && !this.editing_agence_paiement[this.index_selected_agence_paiement]">
                                <mat-icon matTooltip="Supprimer" class="coleur_vert">delete</mat-icon>
                            </button>


                            <button mat-button mat-icon-button color="fuse-navy" aria-label="Enregistrer"
                                *ngIf="this.editing_agence_paiement[this.index_selected_agence_paiement]"
                                (click)="save_in_base_agence_paiement(0)">
                                <mat-icon matTooltip="Enregistrer" class="coleur_vert">save</mat-icon>
                            </button>

                            <button mat-button mat-icon-button color="fuse-navy" aria-label="Annuler"
                                (click)="annulerAgencePaiement()"
                                *ngIf="item_selected_agence_paiement.length > 0 && this.editing_agence_paiement[this.index_selected_agence_paiement]">
                                <mat-icon matTooltip="Annuler" class="coleur_vert">cancel</mat-icon>
                            </button>
                            <button mat-stroked-button style="color: #0eaf3b;">
                                <mat-icon>get_app</mat-icon>
                                EXPORTER EN EXCEL
                            </button>
                        </span>
                        <span class="p-12 coleur_vert">AGEP</span>
                        <span class="p-12"><input type="text"
                                style="padding:8px;margin:15px auto;width:100%;color:#353A48;"
                                placeholder="Rechercher..." [(ngModel)]="search_agence_paiement" /></span>
                    </div>
                    <div class="p-4">
                        <ngx-datatable class="material" [rows]="rows_agence_paiement | filter: search_agence_paiement"
                            [columnMode]="'force'" [headerHeight]="48" [footerHeight]="56" [rowHeight]="'auto'"
                            [scrollbarH]="true" [reorderable]="" [selectionType]="'checkbox'" [limit]="10"
                            [selected]="item_selected_agence_paiement" [selectionType]="'single'"
                            (select)="onSelectAgencePaiement($event)">
                            <ngx-datatable-column name="Identifiant AGEP" prop="identifiant">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                    let-row="row">
                                    <span *ngIf="!editing_agence_paiement[rowIndex]">{{ value }}</span>
                                    <input *ngIf="editing_agence_paiement[rowIndex]" type="text"
                                        (change)="updateValueAgencePaiement($event, 'identifiant', rowIndex)"
                                        [value]="value" />
                                </ng-template>
                            </ngx-datatable-column>
                            <ngx-datatable-column name="Raison social AGEP" prop="raison_social">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                    let-row="row">
                                    <span *ngIf="!editing_agence_paiement[rowIndex]">{{ value }}</span>
                                    <input *ngIf="editing_agence_paiement[rowIndex]" type="text"
                                        (change)="updateValueAgencePaiement($event, 'raison_social', rowIndex)"
                                        [value]="value" />
                                </ng-template>
                            </ngx-datatable-column>
                            <ngx-datatable-column name="Nom de contact AGEP" prop="nom_contact">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                    let-row="row">
                                    <span *ngIf="!editing_agence_paiement[rowIndex]">{{ value }}</span>
                                    <input *ngIf="editing_agence_paiement[rowIndex]" type="text"
                                        (change)="updateValueAgencePaiement($event, 'nom_contact', rowIndex)"
                                        [value]="value" />
                                </ng-template>
                            </ngx-datatable-column>
                            <ngx-datatable-column name="Titre du contact" prop="titre_contact">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                    let-row="row">
                                    <span *ngIf="!editing_agence_paiement[rowIndex]">{{ value }}</span>
                                    <input *ngIf="editing_agence_paiement[rowIndex]" type="text"
                                        (change)="updateValueAgencePaiement($event, 'libelle', rowIndex)"
                                        [value]="value" />
                                </ng-template>
                            </ngx-datatable-column>
                            <ngx-datatable-column name="Numéro de téléphone contact" prop="numero_phone_contact">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                    let-row="row">
                                    <span *ngIf="!editing_agence_paiement[rowIndex]">{{ value }}</span>
                                    <input *ngIf="editing_agence_paiement[rowIndex]" type="text"
                                        (change)="updateValueAgencePaiement($event, 'numero_phone_contact', rowIndex)"
                                        [value]="value" />
                                </ng-template>
                            </ngx-datatable-column>
                            <ngx-datatable-column name="Adresse AGEP" prop="adresse">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                    let-row="row">
                                    <span *ngIf="!editing_agence_paiement[rowIndex]">{{ value }}</span>
                                    <input *ngIf="editing_agence_paiement[rowIndex]" type="text"
                                        (change)="updateValueAgencePaiement($event, 'adresse', rowIndex)"
                                        [value]="value" />
                                </ng-template>
                            </ngx-datatable-column>
                        </ngx-datatable>
                    </div>
                </div>
            </div>
        </mat-tab>
        <!-- fin AGEP -->

        <!-- debut CELLULE PROTECTION SOCIALE -->
        <mat-tab label="CELLULE PROTECTION SOCIALE">
            <div class="content p-2">
                <div class="mat-card mat-elevation-z4  m-4">
                    <div class="package-type primary h-44" fxLayout="row" fxLayoutAlign="space-between center">
                        <span class="p-12 coleur_vert">Actions
                            <button mat-button mat-icon-button color="fuse-navy" aria-label="Ajouter"
                                (click)="AjouterCelluleProtectionSociale()"
                                *ngIf="!this.new_item_cellule_protection_sociale && !this.editing_cellule_protection_sociale[this.index_selected_cellule_protection_sociale]">
                                <mat-icon matTooltip="Ajouter" class="coleur_vert">add_circle_outline</mat-icon>
                            </button>
                            <button mat-button mat-icon-button color="fuse-navy" aria-label="Modifier"
                                matTooltip="Modifier" (click)="ModifierCelluleProtectionSociale()"
                                *ngIf="item_selected_cellule_protection_sociale.length > 0 && !this.editing_cellule_protection_sociale[this.index_selected_cellule_protection_sociale]">
                                <mat-icon matTooltip="Modifier" class="coleur_vert">edit</mat-icon>
                            </button>
                            <button mat-button mat-icon-button color="fuse-navy" aria-label="Supprimer"
                                matTooltip="Supprimer" (click)="supprimerCelluleProtectionSociale()"
                                *ngIf="item_selected_cellule_protection_sociale.length > 0 && !this.editing_cellule_protection_sociale[this.index_selected_cellule_protection_sociale]">
                                <mat-icon matTooltip="Supprimer" class="coleur_vert">delete</mat-icon>
                            </button>


                            <button mat-button mat-icon-button color="fuse-navy" aria-label="Enregistrer"
                                *ngIf="this.editing_cellule_protection_sociale[this.index_selected_cellule_protection_sociale]"
                                (click)="save_in_base_cellule_protection_sociale(0)">
                                <mat-icon matTooltip="Enregistrer" class="coleur_vert">save</mat-icon>
                            </button>

                            <button mat-button mat-icon-button color="fuse-navy" aria-label="Annuler"
                                (click)="annulerCelluleProtectionSociale()"
                                *ngIf="item_selected_cellule_protection_sociale.length > 0 && this.editing_cellule_protection_sociale[this.index_selected_cellule_protection_sociale]">
                                <mat-icon matTooltip="Annuler" class="coleur_vert">cancel</mat-icon>
                            </button>
                            <button mat-stroked-button style="color: #0eaf3b;">
                                <mat-icon>get_app</mat-icon>
                                EXPORTER EN EXCEL
                            </button>
                        </span>
                        <span class="p-12 coleur_vert">TYPE ACTIVITE ARSE</span>
                        <span class="p-12"><input type="text"
                                style="padding:8px;margin:15px auto;width:100%;color:#353A48;"
                                placeholder="Rechercher..." [(ngModel)]="search_cellule_protection_sociale" /></span>

                    </div>
                    <div>
                        <ngx-datatable class="material" [rows]="rows_cellule_protection_sociale | filter: search_cellule_protection_sociale"
                            [columnMode]="'force'" [headerHeight]="48" [footerHeight]="56" [rowHeight]="'auto'"
                            [scrollbarH]="true" [reorderable]="" [selectionType]="'checkbox'" [limit]="10"
                            [selected]="item_selected_cellule_protection_sociale" [selectionType]="'single'"
                            (select)="onSelectCelluleProtectionSociale($event)">
                            <ngx-datatable-column name="Code" prop="Code">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                    let-row="row">
                                    <span *ngIf="!editing_cellule_protection_sociale[rowIndex]">{{ value }}</span>
                                    <input *ngIf="editing_cellule_protection_sociale[rowIndex]" type="text"
                                        (change)="updateValueCelluleProtectionSociale($event, 'Code', rowIndex)"
                                        [value]="value" />
                                </ng-template>
                            </ngx-datatable-column>
                            <ngx-datatable-column name="Nom" prop="Nom">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                    let-row="row">
                                    <span *ngIf="!editing_cellule_protection_sociale[rowIndex]">{{ value }}</span>
                                    <input *ngIf="editing_cellule_protection_sociale[rowIndex]" type="text"
                                        (change)="updateValueCelluleProtectionSociale($event, 'Nom', rowIndex)"
                                        [value]="value" />
                                </ng-template>
                            </ngx-datatable-column>
                            <ngx-datatable-column name="Contact" prop="Contact">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                    let-row="row">
                                    <span *ngIf="!editing_cellule_protection_sociale[rowIndex]">{{ value }}</span>
                                    <input *ngIf="editing_cellule_protection_sociale[rowIndex]" type="text"
                                        (change)="updateValueCelluleProtectionSociale($event, 'Contact', rowIndex)"
                                        [value]="value" />
                                </ng-template>
                            </ngx-datatable-column>
                            <ngx-datatable-column name="Numero Telephone" prop="NumeroTelephone">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                    let-row="row">
                                    <span *ngIf="!editing_cellule_protection_sociale[rowIndex]">{{ value }}</span>
                                    <input *ngIf="editing_cellule_protection_sociale[rowIndex]" type="text"
                                        (change)="updateValueCelluleProtectionSociale($event, 'NumeroTelephone', rowIndex)"
                                        [value]="value" />
                                </ng-template>
                            </ngx-datatable-column>
                            <ngx-datatable-column name="Representant" prop="Representant">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                    let-row="row">
                                    <span *ngIf="!editing_cellule_protection_sociale[rowIndex]">{{ value }}</span>
                                    <input *ngIf="editing_cellule_protection_sociale[rowIndex]" type="text"
                                        (change)="updateValueCelluleProtectionSociale($event, 'Representant', rowIndex)"
                                        [value]="value" />
                                </ng-template>
                            </ngx-datatable-column>
                            <ngx-datatable-column name="Ile" prop="ile.Ile">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
                                    <span  *ngIf="!editing_cellule_protection_sociale[rowIndex]">{{ value }}</span>
                                    <span *ngIf="editing_cellule_protection_sociale[rowIndex]">
                                        <select matInput matNativeControl (selectionChange)="updateValue_select_ile($event, 'ile.id', rowIndex)" [(value)]="row.ile.Ile"
                                        (change)="get_prefecture_by_ile($event.target.value)">
                                            <option *ngFor="let ile of all_ile" 
                                                [value]="ile.id">
                                            {{ile.Ile}}
                                            </option>
                                        </select> 
                                    </span>
                                </ng-template>
                            </ngx-datatable-column> 
                            <ngx-datatable-column name="Préfecture" prop="region.Region">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
                                    <span  *ngIf="!editing_cellule_protection_sociale[rowIndex]">{{ value }}</span>
                                    <span *ngIf="editing_cellule_protection_sociale[rowIndex]">
                                        <select matInput matNativeControl  [(value)]="row.region.Region"
                                        (change)="get_commune_by_prefecture($event.target.value)">                                            
                                            <option *ngFor="let region of all_prefecture" (selectionChange)="updateValue_select_prefecture($event, 'region.id', rowIndex)"
                                                [value]="region.id" [attr.selected]="row.region.id==region.id ? true : null">
                                            {{region.Region}}
                                            </option>
                                        </select> 
                                    </span>
                                </ng-template>
                            </ngx-datatable-column> 
                            <ngx-datatable-column name="Commune" prop="commune.Commune">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
                                    <span  *ngIf="!editing_cellule_protection_sociale[rowIndex]">{{ value }}</span>
                                    <span *ngIf="editing_cellule_protection_sociale[rowIndex]">
                                        <select matInput matNativeControl  [(value)]="row.commune.Commune" (change)="get_village_by_commune($event.target.value)">
                                            
                                            <option *ngFor="let commune of all_commune" [value]="commune.id" (selectionChange)="updateValue_select_commune($event, 'commune.id', rowIndex)">
                                            {{commune.Commune}}
                                            </option>
                                        </select> 
                                    </span>
                                </ng-template>
                            </ngx-datatable-column> 
                            <ngx-datatable-column name="Village" prop="village.Village">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
                                    <span  *ngIf="!editing_cellule_protection_sociale[rowIndex]">{{ value }}</span>
                                    <span *ngIf="editing_cellule_protection_sociale[rowIndex]">
                                        <select matInput matNativeControl  [(value)]="row.village.Village">
                                            
                                            <option *ngFor="let village of all_village" [value]="village.id" (selectionChange)="updateValue_select_ile($event, 'village.id', rowIndex)">
                                             {{village.Village}}
                                            </option>
                                        </select> 
                                    </span>
                                </ng-template>
                            </ngx-datatable-column> 
                            <!-- <ngx-datatable-column name="Programme" prop="adresse">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                    let-row="row">
                                    <span *ngIf="!editing_cellule_protection_sociale[rowIndex]">{{ value }}</span>
                                    <input *ngIf="editing_cellule_protection_sociale[rowIndex]" type="text"
                                        (change)="updateValueCelluleProtectionSociale($event, 'adresse', rowIndex)"
                                        [value]="value" />
                                </ng-template>
                            </ngx-datatable-column> -->
                            <ngx-datatable-column name="Programme" prop="programme.code">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
                                    <span  *ngIf="!editing_cellule_protection_sociale[rowIndex]">{{ value }}</span>
                                    <span *ngIf="editing_cellule_protection_sociale[rowIndex]">
                                        <select matInput matNativeControl (selectionChange)="updateValue_select_programme($event, 'programme.code', rowIndex)" [(value)]="row.programme.code">
                                            
                                            <option *ngFor="let programme of all_programme" [attr.selected]="row.programme.id==programme.id ? true : null"
                                                [value]="programme.id">
                                            {{programme.code}}
                                            </option>
                                        </select> 
                                    </span>
                                </ng-template>
                            </ngx-datatable-column> 
                        </ngx-datatable>
                    </div>
                </div>
            </div>
        </mat-tab>
        <!-- fin CELLULE PROTECTION SOCIALE -->
    </mat-tab-group>

    <ng-template #suppression_dialog_agence_execution>
        <h2 matDialogTitle>Etes-vous sûr de supprimer cet enregistrement ?</h2>
        <mat-dialog-content>

        </mat-dialog-content>
        <mat-dialog-actions align="end">
            <button mat-button matDialogClose style="color: red;"
                (click)="suppressionConfirmerAgenceExecution()">OUI</button>
            <button mat-button matDialogClose (click)="suppressionAnnuler()" color="primary">NON</button>
        </mat-dialog-actions>
    </ng-template>

    <ng-template #suppression_dialog_agence_paiement>
        <h2 matDialogTitle>Etes-vous sûr de supprimer cet enregistrement ?</h2>
        <mat-dialog-content>

        </mat-dialog-content>
        <mat-dialog-actions align="end">
            <button mat-button matDialogClose style="color: red;"
                (click)="suppressionConfirmerAgencePaiement()">OUI</button>
            <button mat-button matDialogClose (click)="suppressionAnnuler()" color="primary">NON</button>
        </mat-dialog-actions>
    </ng-template>

    <ng-template #suppression_dialog_cellule_protection_sociale>
        <h2 matDialogTitle>Etes-vous sûr de supprimer cet enregistrement ?</h2>
        <mat-dialog-content>

        </mat-dialog-content>
        <mat-dialog-actions align="end">
            <button mat-button matDialogClose style="color: red;"
                (click)="suppressionConfirmerCelluleProtectionSociale()">OUI</button>
            <button mat-button matDialogClose (click)="suppressionAnnuler()" color="primary">NON</button>
        </mat-dialog-actions>
    </ng-template>
</div>