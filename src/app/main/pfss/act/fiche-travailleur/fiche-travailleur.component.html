<div class="page-layout simple fullwidth" fxLayout="column">
  <div class="header primary p-4 h-24" fxLayout="row" fxLayoutAlign="start center">
    <div fxLayout="column" fxLayoutAlign="center start">
      <div fxLayout="row" fxLayoutAlign="start center" style="margin-top: 0px !important; padding-top: 0px !important">
        <mat-icon class="s-18" style="color: #0eaf3b">home</mat-icon>
        <mat-icon class="s-18" style="color: #0eaf3b">chevron_right</mat-icon>
        <span style="color: #0eaf3b">Traitement</span>
        <mat-icon class="s-18" style="color: #0eaf3b">chevron_right</mat-icon>
        <span style="color: #0eaf3b">Fiche travailleur</span>
      </div>
    </div>
  </div>
  <div class="package-type h-44 primary-50 header " fxLayout="row" fxLayoutAlign="space-between center">
    <div class="p-12">
      &nbsp;
    </div>
    <div class="p-12">
      <h2>LISTE DES TRAVAILLEURS PRINCIPAUX ET SUPLEANTS (ACTR)</h2>
    </div>
    <div class="p-12">
      &nbsp;
    </div>
  </div>
  <div class="tab-content p-2">
    <div class="mat-card mat-elevation-z4  m-4">
      <form [formGroup]="filtre">
        <div>
          <mat-form-field fxFlex="calc(20% - 16px)" class="pr-4">
            <mat-label>Ile</mat-label>
            <mat-select formControlName="id_ile" [(ngModel)]="fiche_travailleur.id_ile"
              (selectionChange)="filtre_region()">
              <mat-option *ngFor="let ile of all_ile" [value]="ile.id">
                {{ ile.Ile }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field fxFlex="calc(20% - 16px)" class="pr-4">
            <mat-label>Pr√©fecture</mat-label>
            <mat-select formControlName="id_region" [(ngModel)]="fiche_travailleur.id_region"
              [disabled]="!fiche_travailleur.id_ile" (selectionChange)="filtre_commune()">
              <mat-option *ngFor="let region of all_region" [value]="region.id">
                {{ region.Region }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field fxFlex="calc(20% - 16px)" class="pr-4">
            <mat-label>Commune</mat-label>
            <mat-select formControlName="id_commune" [(ngModel)]="fiche_travailleur.id_commune"
              [disabled]="!fiche_travailleur.id_region" (selectionChange)="filtre_village()">
              <mat-option *ngFor="let commune of all_commune" [value]="commune.id">
                {{ commune.Commune }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div>
          <mat-form-field fxFlex="calc(20% - 16px)" class="pr-4">
            <mat-label>Village</mat-label>
            <mat-select formControlName="village_id" [(ngModel)]="fiche_travailleur.village_id"
              [disabled]="!fiche_travailleur.id_commune" (selectionChange)="onVillageChange($event)">
              <mat-option *ngFor="let village of all_village" [value]="village.id">
                {{ village.Village }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field fxFlex="calc(20% - 16px)" class="pr-4">
            <mat-label>ZIP</mat-label>
            <input matInput formControlName="zip" [(ngModel)]="fiche_travailleur.zip" readonly>
            <mat-error>Zip obligatoire!</mat-error>
          </mat-form-field>
          <mat-form-field fxFlex="calc(20% - 16px)" class="pr-4">
            <mat-label>Vague</mat-label>
            <input matInput formControlName="vague" [(ngModel)]="fiche_travailleur.vague" readonly>
            <mat-error>vague obligatoire!</mat-error>
          </mat-form-field>
        </div>
        <div>
          <button mat-raised-button class="button_vert" [disabled]="filtre.invalid"
                (click)="export_excel()" style="margin-left: 5px;">
                <mat-label> EXPORTER EN EXCEL </mat-label>
            </button>
        </div>
        <div>
          &nbsp;
        </div>
      </form>
    </div>
  </div>
</div>